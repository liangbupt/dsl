# æ™ºèƒ½å®¢æœæœºå™¨äºº DSL è§£é‡Šå™¨

## é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®å®ç°äº†ä¸€ä¸ªç”¨äºæè¿°æ™ºèƒ½å®¢æœæœºå™¨äººåº”ç­”é€»è¾‘çš„é¢†åŸŸç‰¹å®šè¯­è¨€ï¼ˆDSLï¼‰åŠå…¶è§£é‡Šå™¨ã€‚è¯¥DSLå¯ä»¥å®šä¹‰å®¢æœæœºå™¨äººåœ¨ä¸åŒä¸šåŠ¡åœºæ™¯ä¸‹çš„å¯¹è¯æµç¨‹ï¼Œå¹¶é€šè¿‡é›†æˆå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰APIå®ç°ç”¨æˆ·æ„å›¾è¯†åˆ«ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¯ **è‡ªå®šä¹‰DSLè¯­æ³•**ï¼šä¸“é—¨ç”¨äºæè¿°å®¢æœæœºå™¨äººå¯¹è¯é€»è¾‘
- ğŸ¤– **LLMæ„å›¾è¯†åˆ«**ï¼šè°ƒç”¨OpenAI APIè¿›è¡Œç”¨æˆ·æ„å›¾è¯†åˆ«
- ğŸ“ **å¤šä¸šåŠ¡åœºæ™¯æ”¯æŒ**ï¼šæä¾›å¤šä¸ªä¸šåŠ¡åœºæ™¯è„šæœ¬èŒƒä¾‹
- ğŸ”„ **çŠ¶æ€æœºé©±åŠ¨**ï¼šåŸºäºçŠ¶æ€è½¬æ¢çš„å¯¹è¯æµç¨‹ç®¡ç†
- ğŸ’» **å‘½ä»¤è¡Œç•Œé¢**ï¼šç®€æ´çš„CLIäº¤äº’æ–¹å¼

## DSLè¯­æ³•æ¦‚è§ˆ

```
# å®šä¹‰ä¸€ä¸ªå®¢æœæœºå™¨äºº
bot "ç”µå•†å®¢æœ" {
    # å®šä¹‰æ„å›¾
    intent æŸ¥è¯¢è®¢å• {
        patterns: ["è®¢å•", "ç‰©æµ", "å¿«é€’", "å‘è´§"]
        description: "ç”¨æˆ·æƒ³è¦æŸ¥è¯¢è®¢å•çŠ¶æ€"
    }
    
    # å®šä¹‰çŠ¶æ€
    state åˆå§‹çŠ¶æ€ {
        on_enter {
            say "æ‚¨å¥½ï¼Œæ¬¢è¿ä½¿ç”¨æ™ºèƒ½å®¢æœï¼"
        }
        
        when æŸ¥è¯¢è®¢å• -> è®¢å•æŸ¥è¯¢çŠ¶æ€
        when é€€è´§é€€æ¬¾ -> é€€æ¬¾å¤„ç†çŠ¶æ€
        fallback {
            say "æŠ±æ­‰ï¼Œæˆ‘æ²¡æœ‰ç†è§£æ‚¨çš„æ„æ€ï¼Œè¯·é‡æ–°æè¿°"
        }
    }
    
    # å®šä¹‰å˜é‡
    var order_id = ""
    
    # å®šä¹‰å‡½æ•°
    func validate_order(id) {
        if length(id) == 10 {
            return true
        }
        return false
    }
}
```

## é¡¹ç›®ç»“æ„

```
dsl/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ lexer.py          # è¯æ³•åˆ†æå™¨
â”‚   â”œâ”€â”€ parser.py         # è¯­æ³•åˆ†æå™¨
â”‚   â”œâ”€â”€ ast_nodes.py      # ASTèŠ‚ç‚¹å®šä¹‰
â”‚   â”œâ”€â”€ interpreter.py    # è§£é‡Šå™¨
â”‚   â”œâ”€â”€ llm_client.py     # LLM APIå®¢æˆ·ç«¯
â”‚   â””â”€â”€ cli.py            # å‘½ä»¤è¡Œç•Œé¢
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ ecommerce.bot     # ç”µå•†å®¢æœè„šæœ¬
â”‚   â”œâ”€â”€ banking.bot       # é“¶è¡Œå®¢æœè„šæœ¬
â”‚   â””â”€â”€ telecom.bot       # ç”µä¿¡å®¢æœè„šæœ¬
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ test_*.py         # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ grammar.md        # è¯­æ³•æ–‡æ¡£
â”‚   â””â”€â”€ development.md    # å¼€å‘æ–‡æ¡£
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md
```

## å®‰è£…ä¸è¿è¡Œ

### ç¯å¢ƒè¦æ±‚

- Python 3.8+
- PLY (Python Lex-Yacc)
- OpenAI Python SDK

### å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### é…ç½®APIå¯†é’¥

```bash
# Windows
set OPENAI_API_KEY=your_api_key_here

# Linux/Mac
export OPENAI_API_KEY=your_api_key_here
```

### è¿è¡Œå®¢æœæœºå™¨äºº

```bash
# è¿è¡Œç”µå•†å®¢æœè„šæœ¬
python src/cli.py scripts/ecommerce.bot

# è¿è¡Œé“¶è¡Œå®¢æœè„šæœ¬
python src/cli.py scripts/banking.bot
```

## è®¸å¯è¯

MIT License
